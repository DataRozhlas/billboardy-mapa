!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(e,t){if("Microsoft Internet Explorer"===navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)){var o=document.createElement("div");o.innerHTML='Používáte zastaralý Internet Explorer, takže vám části tohoto webu nemusí fungovat. Navíc to <a target="_blank" style="color:white;" rel="noopener noreferrer" href="https://www.zive.cz/clanky/microsoft-internet-explorer-neni-prohlizec-prestante-ho-tak-pouzivat/sc-3-a-197149/default.aspx">není bezpečné</a>, zvažte přechod na <a target="_blank" style="color:white;" rel="noopener noreferrer" href="https://www.mozilla.org/cs/firefox/new/">jiný prohlížeč</a>.',o.style.cssText="text-align:center;position:absolute;width:100%;height:auto;opacity:1;z-index:100;background-color:#d52834;top:37px;padding-top:4px;padding-bottom:3px;color:white;",document.body.appendChild(o)}},function(e,t,o){"use strict";o.r(t);o(0);function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r="https://data.irozhlas.cz/billboardy-mapa";"localhost"===window.location.hostname&&(r="http://localhost/billboardy-mapa");var a=new mapboxgl.Map({container:"mapa_billboardy",minZoom:5,maxZoom:16,style:{version:8,sources:{"raster-tiles":{type:"raster",tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, geocoder <a href="https://.mapy.cz/">Mapy.cz</a>, data <a href="https://www.rsd.cz/wps/portal/">Ředitelství silnic a dálnic</a>.'}},layers:[{id:"simple-tiles",type:"raster",source:"raster-tiles",minzoom:4,maxzoom:22}]},center:[15.33507,49.74175],zoom:6});a.scrollZoom.disable(),a.addControl(new mapboxgl.NavigationControl);var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,r;return t=e,(o=[{key:"onAdd",value:function(e){return this.map=e,this.container=document.createElement("div"),this.container.id="legend",this.container.innerHTML="Pro detail klikněte na bod v mapě.",this.container}},{key:"onRemove",value:function(){this.container.parentNode.removeChild(this.container),this.map=void 0}}])&&n(t.prototype,o),r&&n(t,r),e}());a.addControl(i,"top-left"),a.on("load",(function(){a.addSource("nehody",{type:"geojson",data:r+"/data/data.json"}),a.addLayer({id:"nehody-point",type:"circle",source:"nehody",minzoom:5,paint:{"circle-radius":8,"circle-color":["match",["get","stav"],"odstraněno","rgba(49,130,189,0.5)","řešeno","rgba(222,45,38,0.5)","dílčí odstranění","rgba(230,85,13,0.5)","rgba(99,99,99,0.5)"],"circle-stroke-color":"white","circle-stroke-width":1,"circle-opacity":["interpolate",["linear"],["zoom"],7,1,8,1]}})})),a.on("zoomend",(function(e){document.getElementById("legend").innerHTML="Kliknutím vyberte místo nehod.",a.getCanvas().style.cursor="default"})),a.on("click",(function(e){a.scrollZoom.enable();var t,o=a.queryRenderedFeatures(e.point,{layers:["nehody-point"]});o.length>0&&(document.getElementById("legend").innerHTML="<b>Silnice č. ".concat(o[0].properties.kom).concat((t=o[0].properties.stan,t?", "+t+" km":""),"</b><br>Stav: ").concat(o[0].properties.stav,"<br>Typ zařízení: ").concat(o[0].properties.typ||"neznámý"))})),function(e){document.getElementById("frm-geocode").onsubmit=function(t){t.preventDefault();var o=document.getElementById("inp-geocode").value;""===o?e.flyTo({center:[15.3350758,49.7417517],zoom:7}):fetch("https://api.mapy.cz/geocode?query=".concat(o)).then((function(e){return e.text()})).then((function(e){return(new window.DOMParser).parseFromString(e,"text/xml")})).then((function(t){var o=t.firstChild.children[0];if(0!==o.children.length){var n=parseFloat(o.children[0].attributes.x.value),r=parseFloat(o.children[0].attributes.y.value);n<12||n>19||r<48||r>52?document.getElementById("inp-geocode").style.borderColor="red":e.flyTo({center:[n,r],zoom:10})}else document.getElementById("inp-geocode").style.borderColor="red"})).catch((function(e){throw e}))}}(a)}]);